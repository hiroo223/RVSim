# D拡張命令を使ったサンプルコード
# f0: 初期値1.5 (倍精度浮動小数点)
# f1: 初期値2.5 (倍精度浮動小数点)
# f2: f0 + f1 の結果
# f3: f0 * f1 の結果
# f4: f1 / f0 の結果
# f5: f1 - f0 の結果

.section .data
val1:   .double 1.5       # 初期値 1.5 (倍精度浮動小数点)
val2:   .double 2.5       # 初期値 2.5 (倍精度浮動小数点)

.section .text
_start:
    la t0, val1
    la t1, val2
    # メモリから倍精度浮動小数点値をレジスタにロード
    fld f0, 0, t0       # f0 = 1.5
    fld f1, 0, t1       # f1 = 2.5

    # fadd.d: 倍精度浮動小数点加算
    fadd.d f2, f0, f1      # f2 = f0 + f1 (1.5 + 2.5 = 4.0)

    # fmul.d: 倍精度浮動小数点乗算
    fmul.d f3, f0, f1      # f3 = f0 * f1 (1.5 * 2.5 = 3.75)

    # fdiv.d: 倍精度浮動小数点除算
    fdiv.d f4, f1, f0      # f4 = f1 / f0 (2.5 / 1.5 ≈ 1.666...)

    # fsub.d: 倍精度浮動小数点減算
    fsub.d f5, f1, f0      # f5 = f1 - f0 (2.5 - 1.5 = 1.0)

    # 終了 (システムコール)
    li a0, 10              # ecall コード: 終了
    ecall
